webpackJsonp([1],{"4OgG":function(e,t){},"95hY":function(e,t){},IT7c:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),i=n.n(r),a=n("exGp"),o=n.n(a),s=n("7+uW"),u={data:function(){return{sidebar:!1,activeIndex:"1"}},computed:{appTitle:function(){return this.$store.state.appTitle},isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:{userSignOut:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("userSignOut");case 2:case"end":return t.stop()}},t,e)}))()}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav-bar"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"}},[n("router-link",{attrs:{to:"home"}},[e._v("Home")])],1),e._v(" "),e.isAuthenticated?e._e():n("el-menu-item",{attrs:{index:"2"}},[n("router-link",{attrs:{to:"signup_main"}},[e._v("Sign Up")])],1),e._v(" "),e.isAuthenticated?e._e():n("el-menu-item",{attrs:{index:"3"}},[n("router-link",{attrs:{to:"signin_main"}},[e._v("Sign In")])],1),e._v(" "),e.isAuthenticated?n("el-menu-item",{attrs:{index:"3"},on:{click:e.userSignOut}},[e._v("Sign Out")]):e._e(),e._v(" "),n("el-menu-item",{attrs:{index:"4"}},[n("router-link",{attrs:{to:"/movie"}},[e._v("Awesome Moive List")])],1)],1)],1),e._v(" "),n("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")(u,l,!1,function(e){n("IT7c")},null,null).exports,m=n("/ocq"),p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Welcome to Login App")]),n("br"),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12,offset:6}},[e._v("\n        It's a basic Single Page application "),n("br"),e._v("\n        with Google Firebase authentication")])],1),n("br"),e._v(" "),n("el-button",{attrs:{type:"primary"}},[n("router-link",{attrs:{to:"/signup"}},[e._v("Sign Up")])],1),e._v(" "),n("el-button",{attrs:{type:"success"}},[n("router-link",{attrs:{to:"/signin"}},[e._v("Sign In")])],1)],1)},staticRenderFns:[]};var d=n("VU/8")({name:"Landing"},p,!1,function(e){n("4OgG")},"data-v-23f1bfb4",null).exports,h={name:"Login",methods:{userSignUpWithGoogle:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("signInWithGoogle");case 2:case"end":return t.stop()}},t,e)}))()}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Feel free to choose how to Sign in!")]),this._v(" "),t("el-button",{attrs:{round:""}},[t("router-link",{attrs:{to:"/signin"}},[this._v("Sign in with Email")])],1),t("br"),t("br"),this._v(" "),t("el-button",{attrs:{round:""},on:{click:this.userSignUpWithGoogle}},[this._v("Sign in with Google")])],1)},staticRenderFns:[]};var v=n("VU/8")(h,f,!1,function(e){n("RXdF")},"data-v-79e3e0a6",null).exports,g={name:"Signup_main",methods:{userSignUpWithGoogle:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("signInWithGoogle");case 2:case"end":return t.stop()}},t,e)}))()}}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Feel free to choose how to Sign up!")]),this._v(" "),t("el-button",{attrs:{round:""}},[t("router-link",{attrs:{to:"/signup"}},[this._v("Sign up with Email")])],1),t("br"),t("br"),this._v(" "),t("el-button",{attrs:{round:""},on:{click:this.userSignUpWithGoogle}},[this._v("Sign up with Google")])],1)},staticRenderFns:[]};var k=n("VU/8")(g,_,!1,function(e){n("tRfe")},"data-v-681e3e9d",null).exports,w={name:"Signin",data:function(){return{ruleForm:{email:"",pass:"",checkPass:""}}},methods:{userSignIn:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("userSignIn",{email:e.ruleForm.email,password:e.ruleForm.pass});case 2:case"end":return t.stop()}},t,e)}))()}},computed:{error:function(){return this.$store.state.error},loading:function(){return this.$store.state.loading}},watch:{error:function(e){e&&(this.alert=!0)},alert:function(e){e||this.$store.commit("setError",null)}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Sign In")]),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12,offset:6}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"","label-width":"120px"}},[n("el-form-item",{attrs:{label:"Email",prop:"email"}},[n("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.userSignIn(t):null}},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Password",prop:"pass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.userSignIn(t):null}},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.userSignIn(t)}}},[e._v("Sign In")])],1)],1),e._v(" "),n("br")],1)],1)],1)},staticRenderFns:[]};var S=n("VU/8")(w,b,!1,function(e){n("YWY+")},"data-v-5ba27565",null).exports,F={name:"Signup",data:function(){var e=this;return{alert:!1,ruleForm:{email:"",pass:"",checkPass:""},rules:{email:[{required:!0,trigger:"blur"}],pass:[{validator:function(e,t,n){""===t?n(new Error("Please input the password")):n()},trigger:"blur"},{required:!0}],checkPass:[{validator:function(t,n,r){""===n?r(new Error("Please input the password again")):n!==e.ruleForm.pass?r(new Error("Two inputs don't match!")):r()},trigger:"blur"},{required:!0}]}}},methods:{userSignUp:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.ruleForm.pass!==e.ruleForm.checkPass&&console.log("password 불일치"),t.next=3,e.$store.dispatch("userSignUp",{email:e.ruleForm.email,password:e.ruleForm.pass});case 3:case"end":return t.stop()}},t,e)}))()}},computed:{error:function(){return this.$store.state.error},loading:function(){return this.$store.state.loading}},watch:{error:function(e){e&&(this.alert=!0)},alert:function(e){e||this.$store.commit("setError",null)}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Sign Up")]),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12,offset:6}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"status-icon":"","label-width":"120px"}},[n("el-form-item",{attrs:{label:"Email",prop:"email"}},[n("el-input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.userSignUp(t):null}},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Password",prop:"pass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.userSignUp(t):null}},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"PasswordConfirm",prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.userSignUp(t):null}},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.userSignUp(t)}}},[e._v("Submit")])],1)],1),e._v(" "),n("br"),e._v(" "),n("h2",{model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.error))])],1)],1)],1)},staticRenderFns:[]};var x=n("VU/8")(F,y,!1,function(e){n("QPtR")},"data-v-289f9935",null).exports,U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",[t("el-col",{attrs:{span:12,offset:6}},[t("h1",[this._v("Home Page")])])],1)},staticRenderFns:[]};n("VU/8")({name:"Home"},U,!1,function(e){n("ZmZa")},"data-v-088bff04",null).exports;var $={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"movies"},[n("h1",[e._v("Moive List")]),e._v(" "),n("el-row",{attrs:{gutter:40}},e._l(e.movies,function(t){return n("el-col",{key:t,attrs:{span:4}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",staticStyle:{width:"100%"},attrs:{src:t.poster}}),e._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("h2",[n("router-link",{attrs:{to:{name:"show",params:{id:t.id}}}},[e._v(e._s(t.name))])],1),e._v(" "),n("div",{staticClass:"bottom clearfix"},[n("span",[e._v(e._s(t.director))]),n("br"),e._v(" "),n("span",{staticStyle:{"font-style":"italic",color:"lightgray"}},[e._v(e._s(t.year))])])])])],1)}))],1)},staticRenderFns:[]};var E=n("VU/8")({name:"MovieList",created:function(){var e=this;this.$http.get("/api/movies").then(function(t){e.movies=t.data})},data:function(){return{movies:[]}}},$,!1,function(e){n("yHBm")},"data-v-2e857874",null).exports,I={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("상세 내용")]),e._v(" "),n("img",{attrs:{src:e.movie[0].poster}}),e._v(" "),n("h2",[e._v(e._s(e.movie[0].name))]),e._v(" "),n("h2",[e._v(e._s(e.movie[0].director))]),e._v(" "),n("h4",[e._v(e._s(e.movie[0].year))]),e._v(" "),n("a",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.$router.go(-1)}}},[e._v("Back")])])},staticRenderFns:[]};var P=n("VU/8")({name:"ShowPage",created:function(){var e=this,t=this.$route.params.id;this.$http.get("/api/movies/"+t).then(function(t){e.movie=t.data})},data:function(){return{movie:{}}}},I,!1,function(e){n("95hY")},"data-v-05e6f4f2",null).exports,R={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",{staticStyle:{color:"palevioletred"}},[this._v("Not Found 404")])},staticRenderFns:[]};var A=n("VU/8")({name:"NotFound"},R,!1,function(e){n("rRVG")},"data-v-0ad42d8c",null).exports,G=n("yviF"),L=n.n(G);n("dih4"),n("881v");s.default.use(m.a);var W=new m.a({mode:"history",routes:[{path:"/",name:"Landing",component:d},{path:"/signin_main",name:"Signin_main",component:v},{path:"/signup_main",name:"Signup_main",component:k},{path:"/signin",name:"Signin",component:S},{path:"/signup",name:"Signup",component:x},{path:"/home",redirect:"/"},{path:"/movie",name:"MovieList",component:E},{path:"/:id",name:"show",component:P},{path:"*",name:"NotFound",component:A}]});W.beforeEach(function(e,t,n){var r=e.matched.some(function(e){return e.meta.requiresAuth}),i=L.a.auth().currentUser;r&&!i?n("/signin_main"):n()});var O=W,C=n("zL8q"),V=n.n(C),M=(n("tvR6"),n("NYxO"));s.default.use(M.a);var T=new M.a.Store({state:{appTitle:"My Awesome App",user:null,error:null,loading:!1,login_error:!1},mutations:{setUser:function(e,t){e.user=t},setError:function(e,t){e.error=t},setLoading:function(e,t){e.loading=t}},actions:{userSignUp:function(e,t){var n=e.commit;n("setLoading",!0),L.a.auth().createUserWithEmailAndPassword(t.email,t.password).then(function(e){n("setUser",{email:e.user.email}),n("setLoading",!1),n("setError",null),O.push("/home")})},signInWithGoogle:function(){var e=this,t=new L.a.auth.GoogleAuthProvider;L.a.auth().signInWithPopup(t).then(function(t){e.state.user=t.user,O.push("/home")}).catch(function(e){return alert(e)})},userSignIn:function(e,t){var n=e.commit;n("setLoading",!0),L.a.auth().signInWithEmailAndPassword(t.email,t.password).then(function(e){n("setUser",{email:e.user.email}),n("setLoading",!1),n("setError",null),O.push("/home")}).catch(function(e){n("setError",e.message),n("setLoading",!1),"auth/wrong-password"===e.code?alert("비밀번호가 틀렸습니다."):alert("존재하지 않는 아이디입니다.")})},autoSignIn:function(e,t){(0,e.commit)("setUser",{email:t.email})},userSignOut:function(e){var t=e.commit;L.a.auth().signOut(),t("setUser",null),O.push("/")}},getters:{isAuthenticated:function(e){return null!==e.user&&void 0!==e.user}}}),q=n("mtWM"),H=n.n(q);s.default.use(V.a),s.default.config.productionTip=!1,s.default.prototype.$http=H.a;L.a.initializeApp({apiKey:"AIzaSyAES7-opTGUip1N-Qv1fgDqXQXgMIW-lxk",authDomain:"presto-7de82.firebaseapp.com",databaseURL:"https://presto-7de82.firebaseio.com",projectId:"presto-7de82",storageBucket:"presto-7de82.appspot.com",messagingSenderId:"374685468497"});var N=L.a.auth().onAuthStateChanged(function(e){new s.default({el:"#app",router:O,store:T,render:function(e){return e(c)},components:{App:c},template:"<App/>",created:function(){var t=this;return o()(i.a.mark(function n(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,T.dispatch("autoSignIn",e);case 3:case"end":return t.stop()}},n,t)}))()}}),N()})},QPtR:function(e,t){},RXdF:function(e,t){},"YWY+":function(e,t){},ZmZa:function(e,t){},rRVG:function(e,t){},tRfe:function(e,t){},tvR6:function(e,t){},yHBm:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a761775f54f372f57cfd.js.map